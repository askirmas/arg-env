version: "3.8"
services:
  envs_propagation:
    build:
      context: ./docker
    env_file:
      - ./docker/.env.file1
      - ./docker/.env.file2
    environment:
      - ENV_ROOT_1
      - ROOT_CATCH_EXPORT
      - OVERRIDE_EXPORT_ROOT

      - INLINE="environment"

      - INLINE_CATCH_INTERNAL_0=${ENV_INTERNAL_0}
      - INLINE_CATCH_INTERNAL_1=${ENV_INTERNAL_1}
      - INLINE_CATCH_ROOT2=${ENV_ROOT_2}
      - INLINE_CATCH_EXPORT=${ENV_EXPORT}

      - OVERRIDE_EXPORT_INLINE=environment
      - OVERRIDE_ROOT_INLINE=environment

      - OVERRIDE_INLINE_INTERNAL=environment
      - OVERRIDE_INLINE_DOCKER=environment
